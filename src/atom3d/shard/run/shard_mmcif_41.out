2020-08-09 14:14:40,564 INFO 65307: Note: NumExpr detected 20 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
/home/groups/rondror/software/sidhikab/miniconda/envs/geometric/lib/python3.8/site-packages/pandas/core/generic.py:2490: PerformanceWarning: 
your performance may suffer as PyTables will pickle object types that it cannot
map directly to c-types [inferred_type->mixed,key->block2_values] [items->Index(['ensemble', 'structure', 'chain', 'hetero', 'insertion_code', 'segid',
       'resname', 'altloc', 'element', 'name', 'fullname', 'serial_number'],
      dtype='object')]

  pytables.to_hdf(
1713781
Traceback (most recent call last):
  File "shard.py", line 302, in <module>
    shard_dataset()
  File "/home/groups/rondror/software/sidhikab/miniconda/envs/geometric/lib/python3.8/site-packages/click/core.py", line 829, in __call__
    return self.main(*args, **kwargs)
  File "/home/groups/rondror/software/sidhikab/miniconda/envs/geometric/lib/python3.8/site-packages/click/core.py", line 782, in main
    rv = self.invoke(ctx)
  File "/home/groups/rondror/software/sidhikab/miniconda/envs/geometric/lib/python3.8/site-packages/click/core.py", line 1066, in invoke
    return ctx.invoke(self.callback, **ctx.params)
  File "/home/groups/rondror/software/sidhikab/miniconda/envs/geometric/lib/python3.8/site-packages/click/core.py", line 610, in invoke
    return callback(*args, **kwargs)
  File "shard.py", line 59, in shard_dataset
    Sharded.shard_one(ensemble_map, sharded_path, start, stop, shard_num)
  File "shard.py", line 110, in shard_one
    sharded._write_shard(shard_num, df)
  File "shard.py", line 273, in _write_shard
    metadata = pd.concat((pd.read_hdf(metadata_path, f'metadata'),
  File "/home/groups/rondror/software/sidhikab/miniconda/envs/geometric/lib/python3.8/site-packages/pandas/io/pytables.py", line 420, in read_hdf
    return store.select(
  File "/home/groups/rondror/software/sidhikab/miniconda/envs/geometric/lib/python3.8/site-packages/pandas/io/pytables.py", line 814, in select
    return it.get_result()
  File "/home/groups/rondror/software/sidhikab/miniconda/envs/geometric/lib/python3.8/site-packages/pandas/io/pytables.py", line 1829, in get_result
    results = self.func(self.start, self.stop, where)
  File "/home/groups/rondror/software/sidhikab/miniconda/envs/geometric/lib/python3.8/site-packages/pandas/io/pytables.py", line 798, in func
    return s.read(start=_start, stop=_stop, where=_where, columns=columns)
  File "/home/groups/rondror/software/sidhikab/miniconda/envs/geometric/lib/python3.8/site-packages/pandas/io/pytables.py", line 3070, in read
    values = self.read_array(f"block{i}_values", start=_start, stop=_stop)
  File "/home/groups/rondror/software/sidhikab/miniconda/envs/geometric/lib/python3.8/site-packages/pandas/io/pytables.py", line 2719, in read_array
    node = getattr(self.group, key)
  File "/home/groups/rondror/software/sidhikab/miniconda/envs/geometric/lib/python3.8/site-packages/tables/group.py", line 836, in __getattr__
    return self._f_get_child(name)
  File "/home/groups/rondror/software/sidhikab/miniconda/envs/geometric/lib/python3.8/site-packages/tables/group.py", line 711, in _f_get_child
    return self._v_file._get_node(childpath)
  File "/home/groups/rondror/software/sidhikab/miniconda/envs/geometric/lib/python3.8/site-packages/tables/file.py", line 1590, in _get_node
    node = self._node_manager.get_node(nodepath)
  File "/home/groups/rondror/software/sidhikab/miniconda/envs/geometric/lib/python3.8/site-packages/tables/file.py", line 432, in get_node
    node = self.node_factory(key)
  File "/home/groups/rondror/software/sidhikab/miniconda/envs/geometric/lib/python3.8/site-packages/tables/group.py", line 1213, in _g_load_child
    return UnImplemented(self, childname)
  File "/home/groups/rondror/software/sidhikab/miniconda/envs/geometric/lib/python3.8/site-packages/tables/unimplemented.py", line 67, in __init__
    super(UnImplemented, self).__init__(parentnode, name)
  File "/home/groups/rondror/software/sidhikab/miniconda/envs/geometric/lib/python3.8/site-packages/tables/leaf.py", line 286, in __init__
    super(Leaf, self).__init__(parentnode, name, _log)
  File "/home/groups/rondror/software/sidhikab/miniconda/envs/geometric/lib/python3.8/site-packages/tables/node.py", line 266, in __init__
    self._v_objectid = self._g_open()
  File "/home/groups/rondror/software/sidhikab/miniconda/envs/geometric/lib/python3.8/site-packages/tables/unimplemented.py", line 70, in _g_open
    (self.shape, self.byteorder, object_id) = self._open_unimplemented()
  File "tables/hdf5extension.pyx", line 2228, in tables.hdf5extension.UnImplemented._open_unimplemented
TypeError: 'NoneType' object is not iterable
